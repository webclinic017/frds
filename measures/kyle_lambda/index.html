<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Financial Research Data Services"><meta name=author content="Mingze Gao"><link href=https://frds.io/measures/kyle_lambda/ rel=canonical><link rel=icon href=../../images/frds_icon.png><meta name=generator content="mkdocs-1.2.2, mkdocs-material-7.2.0+insiders-2.11.1"><title>Kyle's lambda - Financial Research Data Services</title><link rel=stylesheet href=../../assets/stylesheets/main.84bd30f0.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.73e53a79.min.css><meta name=theme-color content=#4051b5><link rel=preload as=style href=../../assets/stylesheets/vendor/mermaid.733f213f.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style><link rel=stylesheet href=//use.fontawesome.com/releases/v5.8.1/css/all.css><link rel=stylesheet href=//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css><link rel=stylesheet href=../../css/mkapi-common.css><link rel=stylesheet href=../../stylesheets/extra.css><script>function __md_scope(e,t,_){return new URL(_||(t===localStorage?"../..":"../.."),location).pathname+"."+e}function __md_get(e,t=localStorage,_){return JSON.parse(t.getItem(__md_scope(e,t,_)))}function __md_set(e,t,_=localStorage,o){try{_.setItem(__md_scope(e,_,o),JSON.stringify(t))}catch(e){}}</script><script id=__analytics>function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-114057186-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#kyles-lambda class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Financial Research Data Services" class="md-header__button md-logo" aria-label="Financial Research Data Services" data-md-component=logo> <img src=../../images/image.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Financial Research Data Services </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Kyle's lambda </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/mgao6767/frds/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> mgao6767/frds </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting-started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../ class="md-tabs__link md-tabs__link--active"> Measures </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Financial Research Data Services" class="md-nav__button md-logo" aria-label="Financial Research Data Services" data-md-component=logo> <img src=../../images/image.png alt=logo> </a> Financial Research Data Services </label> <div class=md-nav__source> <a href=https://github.com/mgao6767/frds/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> mgao6767/frds </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Home data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> FRDS </a> </li> <li class=md-nav__item> <a href=https://frds.io/getting-started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=https://frds.io/measures/ class=md-nav__link> Documentation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../getting-started/ class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> Measures <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Measures data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Measures </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> Measures </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 type=checkbox id=__nav_3_2 checked> <label class=md-nav__link for=__nav_3_2> General <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=General data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> General </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../hhi_index/ class=md-nav__link> HHI index </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Kyle's lambda <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Kyle's lambda </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#api class=md-nav__link> API </a> </li> <li class=md-nav__item> <a href=#additional-note class=md-nav__link> Additional Note </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_3 type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3> Banking <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Banking data-md-level=2> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Banking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../absorption_ratio/ class=md-nav__link> Absoprtion ratio </a> </li> <li class=md-nav__item> <a href=../distress_insurance_premium/ class=md-nav__link> Distress insurance premium </a> </li> <li class=md-nav__item> <a href=../marginal_expected_shortfall/ class=md-nav__link> Marginal expected shortfall </a> </li> <li class=md-nav__item> <a href=../systemic_expected_shortfall/ class=md-nav__link> Systemic expected shortfall </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_4 type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4> Corporate <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Corporate data-md-level=2> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Corporate </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../book_leverage/ class=md-nav__link> Book leverage </a> </li> <li class=md-nav__item> <a href=../capital_expenditure/ class=md-nav__link> Capital expenditure </a> </li> <li class=md-nav__item> <a href=../firm_size/ class=md-nav__link> Firm size </a> </li> <li class=md-nav__item> <a href=../market_to_book/ class=md-nav__link> Market-to-book ratio </a> </li> <li class=md-nav__item> <a href=../roa/ class=md-nav__link> ROA </a> </li> <li class=md-nav__item> <a href=../roe/ class=md-nav__link> ROE </a> </li> <li class=md-nav__item> <a href=../tangibility/ class=md-nav__link> Tangibility </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#api class=md-nav__link> API </a> </li> <li class=md-nav__item> <a href=#additional-note class=md-nav__link> Additional Note </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/mgao6767/frds/edit/master/docs/measures/kyle_lambda.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=kyles-lambda>Kyle's Lambda<a class=headerlink href=#kyles-lambda title="Permanent link">&para;</a></h1> <h2 id=api>API<a class=headerlink href=#api title="Permanent link">&para;</a></h2> <div class=mkapi-node id=frds.measures.func_kyle_lambda.kyle_lambda> <div class=mkapi-object-container> <div class="mkapi-object function code top"> <div class="mkapi-object-kind function top">function</div> <div class="mkapi-object-body function top"><code class=mkapi-object-name>kyle_lambda</code><code class=mkapi-object-parenthesis>(</code><code class=mkapi-object-signature>prices</code>, <code class=mkapi-object-signature>volumes</code><code class=mkapi-object-parenthesis>)</code></div> </div> </div> <div class=mkapi-docstring> <div class=mkapi-section> <div class=mkapi-section-body><p>Kyle's Lambda</p> <p>A measure of market impact cost from <a href=https://doi.org/10.2307/1913210>Kyle (1985)</a>, which can be interpreted as the cost of demanding a certain amount of liquidity over a given time period.</p> <p>It is also used as a measure of market liquidity and can be estimated by the volume required to move the price of a security by one dollar. Sometimes referred to as Kyles lambda, this measure is an inverse proxy of liquidity, with higher values of lambda implying lower liquidity and market depth. The authors estimate this measure on a daily basis by using all transactions during normal trading hours on each day.</p> <p>Given the sequence of</p> <ul> <li>intraday returns <span><span class=MathJax_Preview>[R_{i,1}, R_{i,2}, ..., R_{i,T}]</span><script type=math/tex>[R_{i,1}, R_{i,2}, ..., R_{i,T}]</script></span>,</li> <li>prices <span><span class=MathJax_Preview>[p_{i,1}, p_{i,2}, ..., p_{i,T}]</span><script type=math/tex>[p_{i,1}, p_{i,2}, ..., p_{i,T}]</script></span>, and</li> <li>volumes <span><span class=MathJax_Preview>[v_{i,1}, v_{i,2}, ..., v_{i,T}]</span><script type=math/tex>[v_{i,1}, v_{i,2}, ..., v_{i,T}]</script></span></li> </ul> <p>for security <span><span class=MathJax_Preview>i</span><script type=math/tex>i</script></span> during a specific day, the following regression is estimated:</p> <div> <div class=MathJax_Preview> R_{i,t} = \alpha_i + \lambda_i \text{Sgn}(t) \ln(v_{i,t}\times p_{i,t}) + \varepsilon_{i,t} </div> <script type="math/tex; mode=display">
R_{i,t} = \alpha_i + \lambda_i \text{Sgn}(t) \ln(v_{i,t}\times p_{i,t}) + \varepsilon_{i,t}
</script> </div> <p>where <span><span class=MathJax_Preview>\text{Sgn}(t)</span><script type=math/tex>\text{Sgn}(t)</script></span> is -1 or + 1 depending on the direction of the trade, i.e., “buy” or “sell”, as determined according to the following rule:</p> <ul> <li>if <span><span class=MathJax_Preview>R_{i,t}</span><script type=math/tex>R_{i,t}</script></span> is positive, the value +1 is assigned to that transaction (to indicate net buying),</li> <li>if <span><span class=MathJax_Preview>R_{i,t}</span><script type=math/tex>R_{i,t}</script></span> is negative, the value −1 is assigned to that transaction (to indicate net selling).</li> </ul> <p>Any interval with zero return receives the same sign as that of the most recent transaction with a non-zero return (using returns from the prior day, if necessary).</p></div> </div> <div class="mkapi-section parameters"> <div class="mkapi-section-name parameters"> <span class="mkapi-section-name-body parameters">Parameters</span> </div> <div class="mkapi-section-body parameters"><ul class=mkapi-items> <li><code class=mkapi-item-name>prices</code> <span class=mkapi-item-type>(np.ndarray)</span> <span class=mkapi-item-dash>&mdash;</span> <span class=mkapi-item-description>(n_securities, n_periods) array of security prices</span></li> <li><code class=mkapi-item-name>volumes</code> <span class=mkapi-item-type>(np.ndarray)</span> <span class=mkapi-item-dash>&mdash;</span> <span class=mkapi-item-description>(n_securities, n_periods) array of security volumes</span></li> </ul></div> </div> <div class="mkapi-section returns"> <div class="mkapi-section-name returns"> <span class="mkapi-section-name-body returns">Returns</span> <span class=mkapi-item-type>(np.ndarray)</span> </div> <div class="mkapi-section-body returns"><p>Array of Kyle's Lambda estimates for the securities</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>The <code>prices</code> data is used to calculate the asset returns, which is 1 less than the number of prices. As such, the <code>volumes</code> data of the first period is not used in the calculation.</p> </div></div> </div> <div class="mkapi-section examples"> <div class="mkapi-section-name examples"> <span class="mkapi-section-name-body examples">Examples</span> </div> <div class="mkapi-section-body examples"><div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
<span class=o>&gt;&gt;&gt;</span> <span class=kn>from</span> <span class=nn>frds.measures</span> <span class=kn>import</span> <span class=n>kyle_lambda</span>
</code></pre></div> <p>3 assets daily volume for 6 days <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>volumes</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span>
<span class=o>...</span>     <span class=p>[[</span><span class=mi>100</span><span class=p>,</span> <span class=mi>180</span><span class=p>,</span> <span class=mi>900</span><span class=p>,</span> <span class=mi>970</span><span class=p>,</span> <span class=mi>430</span><span class=p>,</span> <span class=mi>110</span><span class=p>],</span> <span class=p>[</span><span class=mi>200</span><span class=p>,</span> <span class=mi>250</span><span class=p>,</span> <span class=mi>400</span><span class=p>,</span> <span class=mi>590</span><span class=p>,</span> <span class=mi>260</span><span class=p>,</span> <span class=mi>600</span><span class=p>],</span> <span class=p>[</span><span class=mi>300</span><span class=p>,</span> <span class=mi>700</span><span class=p>,</span> <span class=mi>220</span><span class=p>,</span> <span class=mi>110</span><span class=p>,</span> <span class=mi>290</span><span class=p>,</span> <span class=mi>310</span><span class=p>]]</span>
<span class=o>...</span> <span class=p>)</span>
</code></pre></div></p> <p>Their daily prices <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span>
<span class=o>...</span>     <span class=p>[[</span><span class=mi>44</span><span class=p>,</span> <span class=mi>39</span><span class=p>,</span> <span class=mi>36</span><span class=p>,</span> <span class=mi>28</span><span class=p>,</span> <span class=mi>23</span><span class=p>,</span> <span class=mi>18</span><span class=p>],</span> <span class=p>[</span><span class=mi>82</span><span class=p>,</span> <span class=mi>81</span><span class=p>,</span> <span class=mi>79</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>26</span><span class=p>,</span> <span class=mi>13</span><span class=p>],</span> <span class=p>[</span><span class=mi>55</span><span class=p>,</span> <span class=mi>67</span><span class=p>,</span> <span class=mi>13</span><span class=p>,</span> <span class=mi>72</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>65</span><span class=p>]]</span>
<span class=o>...</span> <span class=p>)</span>
</code></pre></div></p> <p>Calculate their respective Kyle's Lambda estimates. <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>kyle_lambda</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>volumes</span><span class=p>)</span>
<span class=n>array</span><span class=p>([</span><span class=o>-</span><span class=mf>0.02198189</span><span class=p>,</span> <span class=o>-</span><span class=mf>0.1951004</span> <span class=p>,</span>  <span class=mf>0.22752204</span><span class=p>])</span>
</code></pre></div></p></div> </div> <div class="mkapi-section references"> <div class="mkapi-section-name references"> <span class="mkapi-section-name-body references">References</span> </div> <div class="mkapi-section-body references"><ul> <li><a href=https://doi.org/10.2307/1913210>Kyle (1985)</a>, Continuous auctions and insider trading, <em>Econometrica</em>, 53, 1315-1355.</li> <li><a href=https://doi.org/10.1146/annurev-financial-110311-101754>Bisias, Flood, Lo, and Valavanis (2012)</a>, A survey of systemic risk analytics, <em>Annual Review of Financial Economics</em>, 4, 255-296.</li> </ul></div> </div> </div> </div> <h2 id=additional-note>Additional Note<a class=headerlink href=#additional-note title="Permanent link">&para;</a></h2> <p>Alternatively, following Hasbrouck (2009) and Goyenko, Holden, Trzcinka (2009), Kyle's Lambda for a given stock <span><span class=MathJax_Preview>i</span><script type=math/tex>i</script></span> and day <span><span class=MathJax_Preview>t</span><script type=math/tex>t</script></span>, is calculated as the slope coefficient <span><span class=MathJax_Preview>\lambda_{i,t}</span><script type=math/tex>\lambda_{i,t}</script></span> in the regression:</p> <div> <div class=MathJax_Preview> R_{i,t,n}= \delta_{i,t} + \lambda_{i,t} S_{i,t,n}+\varepsilon_{i,t,n} </div> <script type="math/tex; mode=display">
R_{i,t,n}= \delta_{i,t} + \lambda_{i,t} S_{i,t,n}+\varepsilon_{i,t,n}
</script> </div> <p>where for the <span><span class=MathJax_Preview>n</span><script type=math/tex>n</script></span>th five-minute period on date <span><span class=MathJax_Preview>t</span><script type=math/tex>t</script></span> and stock <span><span class=MathJax_Preview>i</span><script type=math/tex>i</script></span>, <span><span class=MathJax_Preview>R_{i,t,n}</span><script type=math/tex>R_{i,t,n}</script></span> is the stock return and <span><span class=MathJax_Preview>S_{i,t,n}</span><script type=math/tex>S_{i,t,n}</script></span> is the sum of the signed square-root dollar volume (<span><span class=MathJax_Preview>V</span><script type=math/tex>V</script></span>), that is,</p> <div> <div class=MathJax_Preview> S_{i,t,n}=\sum_k{\text{Sgn}}(V_{i,t,n,k}) \sqrt{V_{i,t,n,k}} </div> <script type="math/tex; mode=display">
S_{i,t,n}=\sum_k{\text{Sgn}}(V_{i,t,n,k}) \sqrt{V_{i,t,n,k}}
</script> </div> <p>Example code below:</p> <div class=highlight><pre><span></span><code><span class=c1># KylesLambda.py</span>
<span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>

<span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;KylesLambda&#39;</span>
<span class=n>description</span> <span class=o>=</span> <span class=s2>&quot;&quot;&quot;</span>
<span class=s2>A measure of market impact cost from Kyle (1985), </span>
<span class=s2>which can be interpreted as the cost of demanding a certain amount of liquidity over a given time period.</span>
<span class=s2>Result is Lambda*1E6.</span>
<span class=s2>&quot;&quot;&quot;</span>
<span class=n>vars_needed</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Price&#39;</span><span class=p>,</span> <span class=s1>&#39;Volume&#39;</span><span class=p>,</span> <span class=s1>&#39;Direction&#39;</span><span class=p>]</span>


<span class=k>def</span> <span class=nf>estimate</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
    <span class=n>price</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;Price&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>to_numpy</span><span class=p>()</span>
    <span class=n>volume</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;Volume&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>to_numpy</span><span class=p>()</span>
    <span class=n>direction</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;Direction&#39;</span><span class=p>]</span><span class=o>.</span><span class=n>to_numpy</span><span class=p>()</span>
    <span class=n>sqrt_dollar_volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>sqrt</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>multiply</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>volume</span><span class=p>))</span>
    <span class=n>signed_sqrt_dollar_volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>abs</span><span class=p>(</span>
        <span class=n>np</span><span class=o>.</span><span class=n>multiply</span><span class=p>(</span><span class=n>direction</span><span class=p>,</span> <span class=n>sqrt_dollar_volume</span><span class=p>))</span>
    <span class=c1># Find the total signed sqrt dollar volume and return per 5 min.</span>
    <span class=n>timestamps</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>index</span><span class=p>,</span> <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64&#39;</span><span class=p>)</span>
    <span class=n>last_ts</span><span class=p>,</span> <span class=n>last_price</span> <span class=o>=</span> <span class=n>timestamps</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>price</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
    <span class=n>bracket_ssdv</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=n>bracket</span> <span class=o>=</span> <span class=n>last_ts</span> <span class=o>+</span> <span class=n>np</span><span class=o>.</span><span class=n>timedelta64</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=s1>&#39;m&#39;</span><span class=p>)</span>
    <span class=n>rets</span><span class=p>,</span> <span class=n>ssdvs</span><span class=p>,</span> <span class=o>=</span> <span class=p>[],</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>idx</span><span class=p>,</span> <span class=n>ts</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>timestamps</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>ts</span> <span class=o>&lt;=</span> <span class=n>bracket</span><span class=p>:</span>
            <span class=n>bracket_ssdv</span> <span class=o>+=</span> <span class=n>signed_sqrt_dollar_volume</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>ret</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>log</span><span class=p>(</span><span class=n>price</span><span class=p>[</span><span class=n>idx</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>/</span><span class=n>last_price</span><span class=p>)</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>bracket_ssdv</span><span class=p>):</span>
                <span class=n>rets</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>
                <span class=n>ssdvs</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>bracket_ssdv</span><span class=p>)</span>
            <span class=c1># Reset bracket</span>
            <span class=n>bracket</span> <span class=o>=</span> <span class=n>ts</span> <span class=o>+</span> <span class=n>np</span><span class=o>.</span><span class=n>timedelta64</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=s1>&#39;m&#39;</span><span class=p>)</span>
            <span class=n>last_price</span> <span class=o>=</span> <span class=n>price</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
            <span class=n>bracket_ssdv</span> <span class=o>=</span> <span class=n>signed_sqrt_dollar_volume</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
    <span class=c1># Perform regression.</span>
    <span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>vstack</span><span class=p>([</span><span class=n>np</span><span class=o>.</span><span class=n>ones</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>ssdvs</span><span class=p>)),</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>ssdvs</span><span class=p>)])</span><span class=o>.</span><span class=n>T</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=n>coef</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>linalg</span><span class=o>.</span><span class=n>lstsq</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>(</span><span class=n>rets</span><span class=p>),</span> <span class=n>rcond</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
    <span class=k>except</span> <span class=n>np</span><span class=o>.</span><span class=n>linalg</span><span class=o>.</span><span class=n>LinAlgError</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span> <span class=k>if</span> <span class=n>np</span><span class=o>.</span><span class=n>isnan</span><span class=p>(</span><span class=n>coef</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span> <span class=k>else</span> <span class=n>coef</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>*</span><span class=mf>1E6</span>
</code></pre></div> <hr> <p><a href=https://github.com/mgao6767/frds/blob/master/frds/measures/func_kyle_lambda.py><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path fill-rule=evenodd d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0V3zm12-.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5z"/><path d="M4.53 12.24a.75.75 0 0 1-.039 1.06l-2.639 2.45 2.64 2.45a.75.75 0 1 1-1.022 1.1l-3.23-3a.75.75 0 0 1 0-1.1l3.23-3a.75.75 0 0 1 1.06.04zm3.979 1.06a.75.75 0 1 1 1.02-1.1l3.231 3a.75.75 0 0 1 0 1.1l-3.23 3a.75.75 0 1 1-1.021-1.1l2.639-2.45-2.64-2.45z"/></svg></span> Source code</a> | <a href="https://github.com/mgao6767/frds/issues/new?assignees=mgao6767&labels=&template=bug_report.md&title=%5BBUG%5D"><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path fill-rule=evenodd d="M7.72.22a.75.75 0 0 1 1.06 0l1.204 1.203A4.983 4.983 0 0 1 12 1c.717 0 1.4.151 2.016.423L15.22.22a.75.75 0 0 1 1.06 1.06l-.971.972A4.988 4.988 0 0 1 17 6v1.104a2.755 2.755 0 0 1 1.917 1.974l1.998-.999a.75.75 0 0 1 .67 1.342L19 10.714V13.5l3.25.003a.75.75 0 1 1 0 1.5L19 15.001V16a7.02 7.02 0 0 1-.204 1.686.833.833 0 0 1 .04.018l2.75 1.375a.75.75 0 1 1-.671 1.342l-2.638-1.319A7 7 0 0 1 12 23a7 7 0 0 1-6.197-3.742l-2.758 1.181a.75.75 0 1 1-.59-1.378l2.795-1.199A7.007 7.007 0 0 1 5 16v-.996H1.75a.75.75 0 0 1 0-1.5H5v-2.79L2.415 9.42a.75.75 0 0 1 .67-1.342l1.998.999A2.755 2.755 0 0 1 7 7.104V6a4.99 4.99 0 0 1 1.69-3.748l-.97-.972a.75.75 0 0 1 0-1.06zM8.5 7h7V6a3.5 3.5 0 1 0-7 0v1zm-2 3.266V9.75c0-.69.56-1.25 1.25-1.25h8.5c.69 0 1.25.56 1.25 1.25V16a5.5 5.5 0 0 1-11 0v-5.734z"/></svg></span> Bug report</a></p> <hr> <div class=md-source-date> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 25, 2021</span> </small> </div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../hhi_index/ class="md-footer__link md-footer__link--prev" aria-label="Previous: HHI index" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> HHI index </div> </div> </a> <a href=../absorption_ratio/ class="md-footer__link md-footer__link--next" aria-label="Next: Absoprtion ratio" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Absoprtion ratio </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020-2021 frds.io </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["tabs", "navigation.tabs", "navigation.top", "content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.74af7bc3.min.js", "version": null}</script> <script src=../../assets/javascripts/bundle.1afabad3.min.js></script> <script src=../../js/mkapi.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> <script src=../../javascripts/extra.js></script> </body> </html>